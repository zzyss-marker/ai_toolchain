<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>AI工具链可视化</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="/">AI工具链可视化</a>
            <div class="navbar-nav">
                <a class="nav-link" href="/inference">模型推理</a>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">欢迎使用AI工具链可视化平台</h5>
                        <p class="card-text">
                            这是一个简单的深度学习模型构建和训练平台，专门用于手写数字识别（MNIST数据集）。
                            您可以通过拖拽组件来构建模型，系统会自动处理层与层之间的连接。
                        </p>
                        <h6>快速入门：</h6>
                        <ol>
                            <li>从左侧组件库中拖拽组件到工作区</li>
                            <li>推荐的模型结构：Conv2D -> ReLU -> MaxPool2D -> Conv2D -> ReLU -> MaxPool2D -> Flatten -> Linear</li>
                            <li>点击"开始训练"按钮开始训练模型</li>
                            <li>训练完成后，可以在"模型推理"页面测试模型效果</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-3">
                <div id="component-library" class="card">
                    <div class="card-body">
                        <h5 class="card-title">组件库</h5>
                        <div id="datasets">
                            <h6 class="section-title">数据集</h6>
                            <!-- 动态加载数据集组件 -->
                        </div>
                        <div id="modules">
                            <h6 class="section-title">模型模块</h6>
                            <!-- 动态加载模型模块组件 -->
                        </div>
                        <div id="saved-models">
                            <h6 class="section-title">已保存的模型</h6>
                            <!-- 动态加载已保存的模型 -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-9">
                <div id="workspace" class="card">
                    <div class="card-body">
                        <h5 class="card-title">工作区</h5>
                        <div id="drop-area">
                            <div class="drop-area-hint text-center text-muted" style="display: none;">
                                <p class="mb-0">
                                    <i class="fas fa-arrows-alt"></i>
                                    拖拽组件到这里构建模型<br>
                                    <small>可以通过拖动 ⋮ 调整顺序，点击 × 删除组件</small>
                                </p>
                            </div>
                            <!-- 用户拖拽组件的放置区域 -->
                        </div>
                        <div id="model-visualization">
                            <!-- 模型结构可视化区域 -->
                        </div>
                        <div id="training-progress" style="display: none;">
                            <h6>训练进度</h6>
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" style="width: 0%">0%</div>
                            </div>
                        </div>
                        <button id="train-button" class="btn btn-primary mt-3">开始训练</button>
                        <a href="/inference" class="btn btn-secondary mt-3 ms-2">前往推理页面</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
